{% extends 'dashboard/base.html.twig' %}

{% block title %}
	{{ parent() }}
	مدیریت مدیران
{% endblock %}

{% block body %}
	<div class="flex justify-between py-4 items-center">
		<div class="font-bold text-[27px] flex flex-col gap-1">
			<p class="text-slate-700">
				مدیریت مدیران
			</p>
			<p class="text-base text-gray-400 font-semibold">
				شما در مجموع 1261 مدیران دارید.
			</p>
		</div>
		<div class="flex gap-5 ">
			<button class="px-4 py-1.5 justify-between hover:border-slate-500 hover:bg-slate-500 hover:text-white transition-all duration-300 items-center flex gap-3 border text-slate-600 rounded">
				<svg xmlns="http://www.w3.org/2000/svg" class="inline stroke-current w-5 h-5" viewbox="0 0 24 24" fill="currentColor">
					<path d="M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"></path>
				</svg>
				<p class="font-bold text-xs">
					افزدون مدیر جدید
				</p>
				<svg xmlns="http://www.w3.org/2000/svg" class="inline stroke-current" width="20" height="20" fill="none" viewbox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m14 8-4 4 4 4"></path>
				</svg>

			</button>
		</div>
	</div>
	<div class="w-full border bg-white">
		<div class="px-4 py-5 flex justify-between border-b">
			<div class="flex gap-3 items-center">
				<p class="text-xl text-slate-600 font-bold">همه مدیر ها</p>
			</div>
			<div class="flex gap-2 items-center justify-center">
				{% include "components/_search_data.html.twig" with {
					form: form ?? null
				} only %}

				<div class="h-full w-px bg-gray-200"></div>

				<div x-data="{open:false}" class="relative">
					<button @click="open = !open" @mousedown.outside="open = false" class="text-slate-600 rounded-full hover:bg-gray-100 p-2 transition-all">
						<svg xmlns="http://www.w3.org/2000/svg" class="inline stroke-current" width="20" height="20" fill="none" viewbox="0 0 24 24">
							<circle cx="11.86" cy="12.001" r="3.5" stroke="#323232" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle>
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m11.86 12 2.84 2.03M11.86 12V8.5"></path>
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5.25 12c0 .297.027.594.063.882l-1.588 1.242a.898.898 0 0 0-.224 1.156l1.412 2.443a.898.898 0 0 0 1.112.384l1.422-.571a.912.912 0 0 1 .846.099c.22.146.448.28.684.4.27.137.466.382.509.682l.217 1.513c.063.442.442.77.888.77h2.817a.897.897 0 0 0 .888-.77l.217-1.512a.918.918 0 0 1 .512-.683c.235-.118.462-.251.681-.396a.915.915 0 0 1 .85-.102l1.419.57a.899.899 0 0 0 1.112-.384l1.412-2.443a.898.898 0 0 0-.224-1.156l-1.588-1.242c.036-.288.063-.585.063-.882 0-.297-.027-.594-.063-.882l1.588-1.242a.898.898 0 0 0 .224-1.156l-1.412-2.443a.898.898 0 0 0-1.112-.384l-1.419.57a.918.918 0 0 1-.85-.102 6.597 6.597 0 0 0-.681-.396.918.918 0 0 1-.512-.683l-.216-1.512a.897.897 0 0 0-.888-.77h-2.817a.897.897 0 0 0-.888.77l-.218 1.514a.92.92 0 0 1-.509.682c-.236.12-.464.255-.684.4a.917.917 0 0 1-.847.098l-1.421-.571a.898.898 0 0 0-1.112.384L3.501 8.72a.898.898 0 0 0 .224 1.156l1.588 1.242A7.138 7.138 0 0 0 5.25 12v0Z" clip-rule="evenodd"></path>
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m11.86 12-2.84 2.03"></path>
						</svg>
					</button>
					<div class="bg-white border shadow rounded-md max-w-[320px] min-w-[320px] w-full absolute left-full top-full" x-transition="" x-show="open" style="display: none;">
						Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi																																                  architecto dolore! Cum, maiores!
					</div>
				</div>
			</div>
		</div>
		<table class="w-full table">
			<thead class="table-header-group">
				<tr class="text-xs text-gray-400 border-b">
					<th class="font-semibold py-3">
						{{ knp_pagination_sortable(admins, 'شناسه مدیر', 'id') }}
					</th>
					<th class="font-semibold py-3">نام کاربری</th>
					<th class="font-semibold py-3">نام کامل</th>
					<th class="font-semibold py-3">نقش ها</th>
					<th class="font-semibold py-3">تاریخ</th>
					<th class="font-semibold py-3">وضعیت مدیر</th>
					<th class="font-semibold py-3"></th>
				</tr>
			</thead>
			<tbody>
				{% if admins is not empty  %}
					{% for admin in admins %}
						<tr class="text-gray-400 font-semibold text-xs text-center border-b">
							<td class="py-6 text-blue-600 font-semibold">#{{ admin.id }}</td>
							<td class="py-6">
								{{ admin.username }}
							</td>
							<td class="py-6 text-slate-600 text-sm">
								{{ admin.fullname }}
							</td>
							<td class="py-6 text-slate-600 text-sm">
								{{ admin.roles|join(' | ') }}
							</td>
							<td class="py-6">
								{{ admin.createdAt|date('d-m-Y') }}
							</td>
							<td class="py-6 text-slate-600 text-sm">
								{{ admin.status.value }}
							</td>
							<td class="py-6">
								<div class="flex justify-center items-center gap-2">
									<div class="w-2 h-2 bg-green-400 rounded-full"></div>
									<p class="text-green-400">تکمیل</p>
								</div>
							</td>
							<td class="py-6">
								<button>
									<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current inline" width="20" height="20" fill="none" viewbox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18.503 12a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M12.5 12a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-6.002 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"></path>
									</svg>
								</button>
							</td>
						</tr>
					{% endfor %}
				{% else %}
					<div class='bg-sky-100 rounded-lg px-3 py-4'>
						<p class='text-sky-800 text-center font-bold'>
							اطلاعاتی یافت نشد
						</p>
					</div>
				{% endif %}
			</tbody>
		</tbody>
	</table>
	<div class="py-5">
		<div class="px-7 flex justify-between bg-white">
			{{ knp_pagination_render(admins) }}
		</div>
	</div>
</div>{% endblock %}
